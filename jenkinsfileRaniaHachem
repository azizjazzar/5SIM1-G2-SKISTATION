pipeline {
    agent any

    stages {
        stage('Préparation') {
            steps {
                echo 'Initialisation du pipeline...'

                sh 'echo "Nettoyage des anciens fichiers..."'
            }
        }


        stage('Tests') {
            steps {
                echo 'Exécution des tests...'

                sh 'echo "Tous les tests unitaires sont passés avec succès"'
            }
        }

        stage('Analyse de qualité') {
            steps {
                echo 'Analyse de la qualité du code...'

                sh 'echo "Analyse de qualité terminée avec succès"'
            }
        }

        stage('Déploiement') {
            steps {
                echo 'Déploiement de l\'application...'

                sh 'echo "Déploiement terminé avec succès"'
            }
        }
    }

    post {
        success {

            echo 'Pipeline exécuté avec succès.'
        }
        failure {

            echo 'Le pipeline a échoué.'
        }
        always {

            echo 'Pipeline terminé.'
        }
    }
}